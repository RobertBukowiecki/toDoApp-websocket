{"ast":null,"code":"import _toConsumableArray from\"/Users/robert/kodilla/to-do-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/robert/kodilla/to-do-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/robert/kodilla/to-do-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/robert/kodilla/to-do-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/robert/kodilla/to-do-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import io from\"socket.io-client\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tasks:[],taskName:\"\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.socket=io();this.socket.connect(\"localhost:3000\");this.socket.on(\"addTask\",function(task){return _this2.addTask(task);});this.socket.on(\"removeTask\",function(task){return _this2.removeTask(task);});this.socket.on(\"updateData\",function(tasks){return _this2.updateTasks(tasks);});}},{key:\"removeTask\",value:function removeTask(taskId,local){this.setState({tasks:this.state.tasks.filter(function(task){return taskId.id!==task.id;})});return local===true&&this.socket.emit(\"removeTask\",taskId);}},{key:\"submitForm\",value:function submitForm(e){e.preventDefault();var task={taskName:this.state.taskName,id:uuidv4()};this.addTask(task);this.socket.emit(\"addTask\",task);this.setState({taskName:\"\"});}},{key:\"addTask\",value:function addTask(task){this.setState({tasks:[].concat(_toConsumableArray(this.state.tasks),[task])});}},{key:\"updateTasks\",value:function updateTasks(tasks){this.setState({tasks:tasks});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,tasks=_this$state.tasks,taskName=_this$state.taskName;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"ToDoList.app\"})}),/*#__PURE__*/_jsxs(\"section\",{className:\"tasks-section\",id:\"tasks-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tasks\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"tasks-section__list\",id:\"tasks-list\",children:tasks.map(function(task){return/*#__PURE__*/_jsxs(\"li\",{className:\"task\",children:[task.taskName,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.removeTask(task.id,true);},className:\"btn btn--red\",children:\"Remove\"})]},task.id);})}),/*#__PURE__*/_jsxs(\"form\",{id:\"add-task-form\",onSubmit:function onSubmit(e){return _this3.submitForm(e);},children:[/*#__PURE__*/_jsx(\"input\",{className:\"text-input\",autoComplete:\"off\",type:\"text\",placeholder:\"Type your description\",id:\"task-name\",onChange:function onChange(e){return _this3.setState({taskName:e.target.value});},value:taskName}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Add\"})]})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/robert/kodilla/to-do-app/client/src/App.js"],"names":["React","io","v4","uuidv4","App","state","tasks","taskName","socket","connect","on","task","addTask","removeTask","updateTasks","taskId","local","setState","filter","id","emit","e","preventDefault","map","submitForm","target","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport io from \"socket.io-client\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nclass App extends React.Component {\n  state = {\n    tasks: [],\n    taskName: \"\",\n  };\n\n  componentDidMount() {\n    this.socket = io();\n    this.socket.connect(\"localhost:3000\");\n\n    this.socket.on(\"addTask\", (task) => this.addTask(task));\n    this.socket.on(\"removeTask\", (task) => this.removeTask(task));\n    this.socket.on(\"updateData\", (tasks) => this.updateTasks(tasks));\n  }\n\n  removeTask(taskId, local) {\n    this.setState({\n      tasks: this.state.tasks.filter((task) => taskId.id !== task.id),\n    });\n\n    return local === true && this.socket.emit(\"removeTask\", taskId);\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n\n    const task = { taskName: this.state.taskName, id: uuidv4() };\n\n    this.addTask(task);\n    this.socket.emit(\"addTask\", task);\n    this.setState({ taskName: \"\" });\n  }\n\n  addTask(task) {\n    this.setState({ tasks: [...this.state.tasks, task] });\n  }\n\n  updateTasks(tasks) {\n    this.setState({ tasks });\n  }\n  render() {\n    const { tasks, taskName } = this.state;\n    return (\n      <div className=\"App\">\n        <header>\n          <h1>ToDoList.app</h1>\n        </header>\n\n        <section className=\"tasks-section\" id=\"tasks-section\">\n          <h2>Tasks</h2>\n\n          <ul className=\"tasks-section__list\" id=\"tasks-list\">\n            {tasks.map((task) => (\n              <li className=\"task\" key={task.id}>\n                {task.taskName}\n                <button\n                  onClick={() => this.removeTask(task.id, true)}\n                  className=\"btn btn--red\"\n                >\n                  Remove\n                </button>\n              </li>\n            ))}\n          </ul>\n\n          <form id=\"add-task-form\" onSubmit={(e) => this.submitForm(e)}>\n            <input\n              className=\"text-input\"\n              autoComplete=\"off\"\n              type=\"text\"\n              placeholder=\"Type your description\"\n              id=\"task-name\"\n              onChange={(e) => this.setState({ taskName: e.target.value })}\n              value={taskName}\n            />\n            <button className=\"btn\" type=\"submit\">\n              Add\n            </button>\n          </form>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}